(this["webpackJsonpspotify-stats"]=this["webpackJsonpspotify-stats"]||[]).push([[0],{16:function(e){e.exports=JSON.parse('{"id":"7a2862684ba644048a15f64e381968c2","secret":"3fea4f5fdfcc41f88489a69118ab7ee5"}')},19:function(e,t,a){e.exports=a(31)},24:function(e,t,a){},25:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),c=a.n(o),i=(a(24),a(8)),s=(a(25),a(9)),l=a(5),m=a(16).id,u="user-read-private user-read-email user-top-read user-read-recently-played user-follow-read";var h=function(){return r.a.createElement(s.a,null,r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/login",component:function(){return window.location.href="https://accounts.spotify.com/authorize?response_type=token&client_id="+m+"&scope="+encodeURIComponent(u)+"&redirect_uri="+encodeURIComponent("http://localhost:3000/authorize"),null}}),r.a.createElement(l.b,{path:"/authorize"},r.a.createElement(p,null)),r.a.createElement(l.b,{path:"/"},r.a.createElement(d,null))))},p=function(){var e=window.location.hash.substr(window.location.hash.indexOf("access_token")).split("&")[0].split("=")[1];return r.a.createElement(l.a,{to:{pathname:"/",state:{token:e}}})},d=function(){var e=(Object(l.g)().state||"").token,t=Object(n.useState)({}),a=Object(i.a)(t,2),o=a[0],c=a[1],m=Object(n.useState)({}),u=Object(i.a)(m,2),h=u[0],p=u[1],d=Object(n.useState)("short_term"),E=Object(i.a)(d,2),v=E[0],b=E[1],w=Object(n.useState)("tracks"),S=Object(i.a)(w,2),j=S[0],N=S[1];console.log(h.items&&h.items.map((function(e){return e.name}))),Object(n.useEffect)((function(){e&&(fetch("https://api.spotify.com/v1/me",{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).then(c),p({}),fetch("https://api.spotify.com/v1/me/top/".concat(j,"?time_range=").concat(v,"&limit=50"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).then(p))}),[e,v,j]);return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("div",{className:"TopBar"},o.display_name,r.a.createElement("select",{id:"topselect",onChange:function(e){return p({})||N(e.target.value)},value:j},r.a.createElement("option",{value:"tracks"},"Songs"),r.a.createElement("option",{value:"artists"},"Artists")),r.a.createElement("select",{id:"timeselect",onChange:function(e){return p({})||b(e.target.value)},value:v},r.a.createElement("option",{value:"short_term"},"Short-term (4 weeks)"),r.a.createElement("option",{value:"medium_term"},"Mid-term (6 months)"),r.a.createElement("option",{value:"long_term"},"Long-term (all time)"))),h.items&&h.items.map((function(e){return"tracks"===j?r.a.createElement(f,{song:e}):r.a.createElement(g,{artist:e})})),e?r.a.createElement(s.b,{to:"/authorize"},"Logout"):r.a.createElement(s.b,{to:"/login"},"Login")))},f=function(e){var t=e.song,a=t.album.images[t.album.images.length-1],n=t.artists.map((function(e){return e.name})).join(", ");return r.a.createElement("div",{className:"Song"},r.a.createElement("img",{src:a.url,height:a.height,width:a.width}),r.a.createElement("div",{className:"SongDesc"},r.a.createElement("div",{className:"SongName"},t.name),r.a.createElement("div",{className:"SongArtist"},n)))},g=function(e){var t=e.artist,a=t.images[t.images.length-1];return r.a.createElement("div",{className:"Song"},a&&r.a.createElement("img",{src:a.url,height:64,width:64}),r.a.createElement("div",{className:"SongDesc"},r.a.createElement("div",{className:"SongName"},t.name)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(h,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[19,1,2]]]);
//# sourceMappingURL=main.f11ec2ac.chunk.js.map